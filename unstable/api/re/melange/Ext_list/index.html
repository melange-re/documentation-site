<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ext_list (melange.Ext_list)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="canonical" href="https://melange.re/v1.0.0/api/re/melange/Ext_list/index.html" /></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">melange</a> &#x00BB; Ext_list</nav><header class="odoc-preamble"><h1>Module <code><span>Ext_list</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-map_combine"><a href="#val-map_combine" class="anchor"></a><code><span><span class="keyword">let</span> map_combine: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">=&gt;</span></span> list(<span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-combine_array"><a href="#val-combine_array" class="anchor"></a><code><span><span class="keyword">let</span> combine_array: <span>array(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">=&gt;</span></span> list(<span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-combine_array_append"><a href="#val-combine_array_append" class="anchor"></a><code><span><span class="keyword">let</span> combine_array_append: 
  <span>array(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span>
  <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span>
  <span>list(<span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>) <span class="arrow">=&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">=&gt;</span></span>
  list(<span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_snd"><a href="#val-map_snd" class="anchor"></a><code><span><span class="keyword">let</span> map_snd: <span>list(<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">=&gt;</span></span> list(<span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_last"><a href="#val-map_last" class="anchor"></a><code><span><span class="keyword">let</span> map_last: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span>bool <span class="arrow">=&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">=&gt;</span></span> list(<span class="type-var">'b</span>);</span></code></div><div class="spec-doc"><p><code>map_last f xs </code> will pass <code>true</code> to <code>f</code> for the last element, <code>false</code> otherwise. For empty list, it returns empty</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-append_one"><a href="#val-append_one" class="anchor"></a><code><span><span class="keyword">let</span> append_one: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> list(<span class="type-var">'a</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_right3"><a href="#val-fold_right3" class="anchor"></a><code><span><span class="keyword">let</span> fold_right3: 
  <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span>
  <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span>
  <span>list(<span class="type-var">'c</span>) <span class="arrow">=&gt;</span></span>
  <span><span class="type-var">'d</span> <span class="arrow">=&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">=&gt;</span></span>
  <span class="type-var">'d</span>;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_left_with_offset"><a href="#val-fold_left_with_offset" class="anchor"></a><code><span><span class="keyword">let</span> fold_left_with_offset: 
  <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span>
  <span><span class="type-var">'acc</span> <span class="arrow">=&gt;</span></span>
  <span>int <span class="arrow">=&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">=&gt;</span></span>
  <span class="type-var">'acc</span>;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-same_length"><a href="#val-same_length" class="anchor"></a><code><span><span class="keyword">let</span> same_length: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span> bool;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-split_at"><a href="#val-split_at" class="anchor"></a><code><span><span class="keyword">let</span> split_at: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> <span>(list(<span class="type-var">'a</span>), list(<span class="type-var">'a</span>))</span>;</span></code></div><div class="spec-doc"><p><code>split_at n l</code> will split <code>l</code> into two lists <code>a,b</code>, <code>a</code> will be of length <code>n</code>, otherwise, it will raise</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-split_at_last"><a href="#val-split_at_last" class="anchor"></a><code><span><span class="keyword">let</span> split_at_last: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>(list(<span class="type-var">'a</span>), <span class="type-var">'a</span>)</span>;</span></code></div><div class="spec-doc"><p><code>split_at_last l</code> It is equivalent to <code>split_at (List.length l - 1) l </code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_mapi"><a href="#val-filter_mapi" class="anchor"></a><code><span><span class="keyword">let</span> filter_mapi: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> option(<span class="type-var">'b</span>))</span> <span class="arrow">=&gt;</span></span> list(<span class="type-var">'b</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-length_ge"><a href="#val-length_ge" class="anchor"></a><code><span><span class="keyword">let</span> length_ge: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> bool;</span></code></div></div><pre class="language-ocaml"><code>length xs = length ys + n </code></pre><p>input n should be positive TODO: input checking</p><div class="odoc-spec"><div class="spec value anchored" id="val-length_larger_than_n"><a href="#val-length_larger_than_n" class="anchor"></a><code><span><span class="keyword">let</span> length_larger_than_n: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> bool;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stable_group"><a href="#val-stable_group" class="anchor"></a><code><span><span class="keyword">let</span> stable_group: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> bool)</span> <span class="arrow">=&gt;</span></span> list(list(<span class="type-var">'a</span>));</span></code></div><div class="spec-doc"><p><code>stable_group eq lst</code> Example: Input:</p><pre class="language-ocaml"><code>stable_group (=) [1;2;3;4;3]</code></pre><p>Output:</p><pre class="language-ocaml"><code>[[1];[2];[4];[3;3]]</code></pre><p>TODO: this is O(n^2) behavior which could be improved later</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_first_not"><a href="#val-find_first_not" class="anchor"></a><code><span><span class="keyword">let</span> find_first_not: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> bool)</span> <span class="arrow">=&gt;</span></span> option(<span class="type-var">'a</span>);</span></code></div><div class="spec-doc"><p><code>find_first_not p lst </code> if all elements in <code>lst</code> pass, return <code>None</code> otherwise return the first element <code>e</code> as <code>Some e</code> which fails the predicate</p></div></div><p><code>find_opt f l</code> returns <code>None</code> if all return <code>None</code>, otherwise returns the first one.</p><div class="odoc-spec"><div class="spec value anchored" id="val-find_opt"><a href="#val-find_opt" class="anchor"></a><code><span><span class="keyword">let</span> find_opt: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> option(<span class="type-var">'b</span>))</span> <span class="arrow">=&gt;</span></span> option(<span class="type-var">'b</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_def"><a href="#val-find_def" class="anchor"></a><code><span><span class="keyword">let</span> find_def: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> option(<span class="type-var">'b</span>))</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'b</span>;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rev_iter"><a href="#val-rev_iter" class="anchor"></a><code><span><span class="keyword">let</span> rev_iter: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> unit)</span> <span class="arrow">=&gt;</span></span> unit;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-for_all_snd"><a href="#val-for_all_snd" class="anchor"></a><code><span><span class="keyword">let</span> for_all_snd: <span>list(<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">=&gt;</span></span> bool)</span> <span class="arrow">=&gt;</span></span> bool;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-for_all2_no_exn"><a href="#val-for_all2_no_exn" class="anchor"></a><code><span><span class="keyword">let</span> for_all2_no_exn: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'b</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">=&gt;</span></span> bool)</span> <span class="arrow">=&gt;</span></span> bool;</span></code></div><div class="spec-doc"><p><code>for_all2_no_exn p xs ys</code> return <code>true</code> if all satisfied, <code>false</code> otherwise or length not equal</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-split_map"><a href="#val-split_map" class="anchor"></a><code><span><span class="keyword">let</span> split_map: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span>)</span> <span class="arrow">=&gt;</span></span> <span>(list(<span class="type-var">'b</span>), list(<span class="type-var">'c</span>))</span>;</span></code></div><div class="spec-doc"><p><code>f</code> is applied follow the list order</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sort_via_array"><a href="#val-sort_via_array" class="anchor"></a><code><span><span class="keyword">let</span> sort_via_array: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> int)</span> <span class="arrow">=&gt;</span></span> list(<span class="type-var">'a</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sort_via_arrayf"><a href="#val-sort_via_arrayf" class="anchor"></a><code><span><span class="keyword">let</span> sort_via_arrayf: <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> int)</span> <span class="arrow">=&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">=&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">=&gt;</span></span> list(<span class="type-var">'b</span>);</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assoc_by_string"><a href="#val-assoc_by_string" class="anchor"></a><code><span><span class="keyword">let</span> assoc_by_string: <span>list(<span>(string, <span class="type-var">'a</span>)</span>) <span class="arrow">=&gt;</span></span> <span>string <span class="arrow">=&gt;</span></span> <span>option(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span class="type-var">'a</span>;</span></code></div><div class="spec-doc"><p><code>assoc_by_string default key lst</code> if <code>key</code> is found in the list return that val, other unbox the <code>default</code>, otherwise <code>assert false </code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assoc_by_int"><a href="#val-assoc_by_int" class="anchor"></a><code><span><span class="keyword">let</span> assoc_by_int: <span>list(<span>(int, <span class="type-var">'a</span>)</span>) <span class="arrow">=&gt;</span></span> <span>int <span class="arrow">=&gt;</span></span> <span>option(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> <span class="type-var">'a</span>;</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-concat_append"><a href="#val-concat_append" class="anchor"></a><code><span><span class="keyword">let</span> concat_append: <span>list(list(<span class="type-var">'a</span>)) <span class="arrow">=&gt;</span></span> <span>list(<span class="type-var">'a</span>) <span class="arrow">=&gt;</span></span> list(<span class="type-var">'a</span>);</span></code></div></div></div></body></html>
