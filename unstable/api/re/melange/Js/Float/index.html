<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Float (melange.Js.Float)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="canonical" href="https://melange.re/v1.0.0/api/re/melange/Js_float/index.html" /></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">melange</a> &#x00BB; <a href="../index.html">Js</a> &#x00BB; Float</nav><header class="odoc-preamble"><h1>Module <code><span>Js.Float</span></code></h1><p>Provide utilities for JS float</p><p>Provides functions for inspecting and manipulating <code>float</code>s</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value external anchored" id="val-_NaN"><a href="#val-_NaN" class="anchor"></a><code><span><span class="keyword">let</span> _NaN: float;</span></code></div><div class="spec-doc"><p>The special value &quot;Not a Number&quot;</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-isNaN"><a href="#val-isNaN" class="anchor"></a><code><span><span class="keyword">let</span> isNaN: <span>float <span class="arrow">=&gt;</span></span> bool;</span></code></div><div class="spec-doc"><p>Tests if the given value is <code>_NaN</code></p><p>Note that both <code>_NaN = _NaN</code> and <code>_NaN == _NaN</code> will return <code>false</code>. <code>isNaN</code> is therefore necessary to test for <code>_NaN</code>.</p><p><b>Returns</b> <code>true</code> if the given value is <code>_NaN</code>, <code>false</code> otherwise</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-isFinite"><a href="#val-isFinite" class="anchor"></a><code><span><span class="keyword">let</span> isFinite: <span>float <span class="arrow">=&gt;</span></span> bool;</span></code></div><div class="spec-doc"><p>Tests if the given value is finite</p><p><b>Returns</b> <code>true</code> if the given value is a finite number, <code>false</code> otherwise</p><pre class="language-ocaml"><code>(* returns [false] *)
let _ = Js.Float.isFinite infinity

(* returns [false] *)
let _ = Js.Float.isFinite neg_infinity

(* returns [false] *)
let _ = Js.Float.isFinite _NaN

(* returns [true] *)
let _ = Js.Float.isFinite 1234</code></pre><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toExponential"><a href="#val-toExponential" class="anchor"></a><code><span><span class="keyword">let</span> toExponential: <span>float <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using exponential (scientific) notation</p><p><b>Returns</b> a <code>string</code> representing the given value in exponential notation</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range [0, 20] (inclusive)</p><pre class="language-ocaml"><code>(* prints &quot;7.71234e+1&quot; *)
let _ = Js.log (Js.Float.toExponential 77.1234)

(* prints &quot;7.7e+1&quot; *)
let _ = Js.log (Js.Float.toExponential 77.)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toExponentialWithPrecision"><a href="#val-toExponentialWithPrecision" class="anchor"></a><code><span><span class="keyword">let</span> toExponentialWithPrecision: <span>float <span class="arrow">=&gt;</span></span> <span>digits:int <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using exponential (scientific) notation</p><p><b>digits</b> specifies how many digits should appear after the decimal point. The value must be in the range [0, 20] (inclusive).</p><p><b>Returns</b> a <code>string</code> representing the given value in exponential notation</p><p>The output will be rounded or padded with zeroes if necessary.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range [0, 20] (inclusive)</p><pre class="language-ocaml"><code>```
(* prints &quot;7.71e+1&quot; *)
let _ = Js.log (Js.Float.toExponentialWithPrecision 77.1234 ~digits:2)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toFixed"><a href="#val-toFixed" class="anchor"></a><code><span><span class="keyword">let</span> toFixed: <span>float <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using fixed point notation</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point notation (usually)</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range [0, 20] (inclusive)</p><pre class="language-ocaml"><code>(* prints &quot;12346&quot; (note the rounding) *)
let _ = Js.log (Js.Float.toFixed 12345.6789)

(* print &quot;1.2e+21&quot; *)
let _ = Js.log (Js.Float.toFixed 1.2e21)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toFixedWithPrecision"><a href="#val-toFixedWithPrecision" class="anchor"></a><code><span><span class="keyword">let</span> toFixedWithPrecision: <span>float <span class="arrow">=&gt;</span></span> <span>digits:int <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using fixed point notation</p><p><b>digits</b> specifies how many digits should appear after the decimal point. The value must be in the range [0, 20] (inclusive). Defaults to <code>0</code>.</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point notation (usually)</p><p>The output will be rounded or padded with zeroes if necessary.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range [0, 20] (inclusive)</p><pre class="language-ocaml"><code>(* prints &quot;12345.7&quot; (note the rounding) *)
let _ = Js.log (Js.Float.toFixedWithPrecision 12345.6789 ~digits:1)

(* prints &quot;0.00&quot; (note the added zeroes) *)
let _ = Js.log (Js.Float.toFixedWithPrecision 0. ~digits:2)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toPrecision"><a href="#val-toPrecision" class="anchor"></a><code><span><span class="keyword">let</span> toPrecision: <span>float <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using some fairly arbitrary rules</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point (usually)</p><p><code>toPrecision</code> differs from <code>toFixed</code> in that the former will format the number with full precision, while the latter will not output any digits after the decimal point.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range accepted by this function (what do you mean &quot;vague&quot;?)</p><pre class="language-ocaml"><code>(* prints &quot;12345.6789&quot; *)
let _ = Js.log (Js.Float.toPrecision 12345.6789)

(* print &quot;1.2e+21&quot; *)
let _ = Js.log (Js.Float.toPrecision 1.2e21)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toPrecisionWithPrecision"><a href="#val-toPrecisionWithPrecision" class="anchor"></a><code><span><span class="keyword">let</span> toPrecisionWithPrecision: <span>float <span class="arrow">=&gt;</span></span> <span>digits:int <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> using some fairly arbitrary rules</p><p><b>digits</b> specifies how many digits should appear in total. The value must between 0 and some arbitrary number that's hopefully at least larger than 20 (for Node it's 21. Why? Who knows).</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point or scientific notation</p><p>The output will be rounded or padded with zeroes if necessary.</p><p><code>toPrecisionWithPrecision</code> differs from <code>toFixedWithPrecision</code> in that the former will count all digits against the precision, while the latter will count only the digits after the decimal point. <code>toPrecisionWithPrecision</code> will also use scientific notation if the specified precision is less than the number for digits before the decimal point.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if digits is not in the range accepted by this function (what do you mean &quot;vague&quot;?)</p><pre class="language-ocaml"><code>(* prints &quot;1e+4&quot; *)
let _ = Js.log (Js.Float.toPrecisionWithPrecision 12345.6789 ~digits:1)

(* prints &quot;0.0&quot; *)
let _ = Js.log (Js.Float.toPrecisionWithPrecision 0. ~digits:2)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toString"><a href="#val-toString" class="anchor"></a><code><span><span class="keyword">let</span> toString: <span>float <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> as a string</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point (usually)</p><pre class="language-ocaml"><code>(* prints &quot;12345.6789&quot; *)
let _ = Js.log (Js.Float.toString 12345.6789)</code></pre><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-toStringWithRadix"><a href="#val-toStringWithRadix" class="anchor"></a><code><span><span class="keyword">let</span> toStringWithRadix: <span>float <span class="arrow">=&gt;</span></span> <span>radix:int <span class="arrow">=&gt;</span></span> string;</span></code></div><div class="spec-doc"><p>Formats a <code>float</code> as a string</p><p><b>radix</b> specifies the radix base to use for the formatted number. The value must be in the range [2, 36] (inclusive).</p><p><b>Returns</b> a <code>string</code> representing the given value in fixed-point (usually)</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">RangeError</span> <p>if radix is not in the range [2, 36] (inclusive)</p><pre class="language-ocaml"><code>(* prints &quot;110&quot; *)
let _ = Js.log (Js.Float.toStringWithRadix 6. ~radix:2)

(* prints &quot;11.001000111101011100001010001111010111000010100011111&quot; *)
let _ = Js.log (Js.Float.toStringWithRadix 3.14 ~radix:2)

(* prints &quot;deadbeef&quot; *)
let _ = Js.log (Js.Float.toStringWithRadix 3735928559. ~radix:16)

(* prints &quot;3f.gez4w97ry0a18ymf6qadcxr&quot; *)
let _ = Js.log (Js.Float.toStringWithRadix 123.456 ~radix:36)</code></pre></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString" class="value">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString</a> <p>MDN</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-fromString"><a href="#val-fromString" class="anchor"></a><code><span><span class="keyword">let</span> fromString: <span>string <span class="arrow">=&gt;</span></span> float;</span></code></div><div class="spec-doc"><p>Parses the given <code>string</code> into a <code>float</code> using JavaScript semantics</p><p><b>Returns</b> the number as a <code>float</code> if successfully parsed, <code>_NaN</code> otherwise.</p><pre class="language-ocaml"><code>(* returns 123 *)
let _ = Js.Float.fromString &quot;123&quot;

(* returns 12.3 *)
let _ = Js.Float.fromString &quot;12.3&quot;

(* returns 0 *)
let _ = Js.Float.fromString &quot;&quot;

(* returns 17 *)
let _ = Js.Float.fromString &quot;0x11&quot;

(* returns 3 *)
let _ = Js.Float.fromString &quot;0b11&quot;

(* returns 9 *)
let _ = Js.Float.fromString &quot;0o11&quot;

(* returns [_NaN] *)
let _ = Js.Float.fromString &quot;foo&quot;

(* returns [_NaN] *)
let _ = Js.Float.fromString &quot;100a&quot;</code></pre></div></div></div></body></html>
